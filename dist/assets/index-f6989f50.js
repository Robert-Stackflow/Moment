var R=(i,t,n)=>new Promise((c,u)=>{var f=s=>{try{a(n.next(s))}catch(l){u(l)}},e=s=>{try{a(n.throw(s))}catch(l){u(l)}},a=s=>s.done?c(s.value):Promise.resolve(s.value).then(f,e);a((n=n.apply(i,t)).next())});import{_ as Q}from"./AppPage-280c836e.js";import{c as C,e as k,d as X,u as Y,f as H,aC as Z,aD as q,i as J,j as K,h as d,aE as $,a0 as M,r as V,a1 as ee,a4 as te,a5 as T,a6 as ae,P as p,Q as E,R as _,as as F,Z as r,$ as v,U as g,Y as B,S as A,T as D,F as j,X as se,aF as ne,aG as oe,aH as ie}from"./index-e858760b.js";import{_ as le}from"./Space-37ef2067.js";import{N as re}from"./Image-ae20ce94.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-locale-aaabd27b.js";import"./Tooltip-1357a659.js";import"./Popover-8aa39b13.js";import"./format-length-c9d165c6.js";const ce=C("statistic",[k("label",`
 font-weight: var(--n-label-font-weight);
 transition: .3s color var(--n-bezier);
 font-size: var(--n-label-font-size);
 color: var(--n-label-text-color);
 `),C("statistic-value",`
 margin-top: 4px;
 font-weight: var(--n-value-font-weight);
 `,[k("prefix",`
 margin: 0 4px 0 0;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-prefix-text-color);
 `,[C("icon",{verticalAlign:"-0.125em"})]),k("content",`
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-text-color);
 `),k("suffix",`
 margin: 0 0 0 4px;
 font-size: var(--n-value-font-size);
 transition: .3s color var(--n-bezier);
 color: var(--n-value-suffix-text-color);
 `,[C("icon",{verticalAlign:"-0.125em"})])])]),ue=Object.assign(Object.assign({},H.props),{tabularNums:Boolean,label:String,value:[String,Number]}),_e=X({name:"Statistic",props:ue,setup(i){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:c}=Y(i),u=H("Statistic","-statistic",ce,Z,i,t),f=q("Statistic",c,t),e=J(()=>{const{self:{labelFontWeight:s,valueFontSize:l,valueFontWeight:N,valuePrefixTextColor:b,labelTextColor:h,valueSuffixTextColor:x,valueTextColor:w,labelFontSize:S},common:{cubicBezierEaseInOut:z}}=u.value;return{"--n-bezier":z,"--n-label-font-size":S,"--n-label-font-weight":s,"--n-label-text-color":h,"--n-value-font-weight":N,"--n-value-font-size":l,"--n-value-prefix-text-color":b,"--n-value-suffix-text-color":x,"--n-value-text-color":w}}),a=n?K("statistic",void 0,e,i):void 0;return{rtlEnabled:f,mergedClsPrefix:t,cssVars:n?void 0:e,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var i;const{mergedClsPrefix:t,$slots:{default:n,label:c,prefix:u,suffix:f}}=this;return(i=this.onRender)===null||i===void 0||i.call(this),d("div",{class:[`${t}-statistic`,this.themeClass,this.rtlEnabled&&`${t}-statistic--rtl`],style:this.cssVars},$(c,e=>d("div",{class:`${t}-statistic__label`},this.label||e)),d("div",{class:`${t}-statistic-value`,style:{fontVariantNumeric:this.tabularNums?"tabular-nums":""}},$(u,e=>e&&d("span",{class:`${t}-statistic-value__prefix`},e)),this.value!==void 0?d("span",{class:`${t}-statistic-value__content`},this.value):$(n,e=>e&&d("span",{class:`${t}-statistic-value__content`},e)),$(f,e=>e&&d("span",{class:`${t}-statistic-value__suffix`},e))))}});const fe={"flex-1":""},de={flex:"","items-center":"","justify-between":""},me={flex:"","items-center":""},pe=["src"],ve={"ml-10":""},ge={"text-20":"","font-semibold":""},be={"mt-5":"","text-14":"","op-60":""},he={flex:"","flex-wrap":"",style:{"row-gap":"10px","column-gap":"10px","flex-direction":"row"}},xe={"op-60":""},Te={__name:"index",setup(i){var b,h,x,w,S,z;const{t}=M({useScope:"global"});var n=V([]),c=V([]);function u(){return R(this,null,function*(){const o=yield F.getBlogAndCategoryCount();o.code===200&&(n.value=[{id:0,label:t("views.workbench.label_number_of_blogs"),value:`${o.data.blog}`},{id:0,label:t("views.workbench.label_number_of_images"),value:`${o.data.image}`},{id:1,label:t("views.workbench.label_number_of_categories"),value:`${o.data.category}`}])})}function f(){return R(this,null,function*(){const o=yield F.getBlogs({page:1,page_size:20,order_option:"created_at_desc"});return o.code==200?o.data:[]})}const e=ee(),a=te();var s=T((b=a.generalSetting)==null?void 0:b.workbench_title)?(h=a.generalSetting)==null?void 0:h.workbench_title:"Hello，{username}",l=T((x=a.generalSetting)==null?void 0:x.workbench_desc)?(w=a.generalSetting)==null?void 0:w.workbench_desc:"今天又是元气满满的一天~~",N=T((S=a.contentSetting)==null?void 0:S.thumbnail_suffix)?(z=a.contentSetting)==null?void 0:z.thumbnail_suffix:"";return s=s.replaceAll("{username}",e.name),l=l.replaceAll("{username}",e.name),u(),f().then(o=>{c.value=o.map(y=>(y.image=y.images[0].image_url+N,y))}),(o,y)=>{const I=_e,O=le,P=ne,W=oe,L=ae("router-link"),U=re,G=Q;return p(),E(G,{"show-footer":!1},{default:_(()=>[r("div",fe,[v(P,{"rounded-10":""},{default:_(()=>[r("div",de,[r("div",me,[r("img",{"rounded-full":"",width:"60",src:g(e).avatar},null,8,pe),r("div",ve,[r("p",ge,B(g(s)),1),r("p",be,B(g(l)),1)])]),v(O,{size:12,wrap:!1},{default:_(()=>[(p(!0),A(j,null,D(g(n),m=>(p(),E(I,ie({key:m.id},m,{style:{"text-align":"center","margin-right":"8px"}}),null,16))),128))]),_:1})])]),_:1}),v(P,{title:o.$t("views.workbench.label_latest"),size:"small",segmented:!0,"mt-15":"","rounded-10":""},{"header-extra":_(()=>[v(L,{to:"/admin/content/blog"},{default:_(()=>[v(W,{text:"",type:"primary"},{default:_(()=>[se(B(o.$t("views.workbench.label_more")),1)]),_:1})]),_:1})]),default:_(()=>[r("div",he,[(p(!0),A(j,null,D(g(c),m=>(p(),E(U,{key:m.id,src:m.image,width:300,height:150,class:"gallery-image",style:{"border-radius":"8px"},"show-toolbar-tooltip":""},{default:_(()=>[r("p",xe,B(m.image),1)]),_:2},1032,["src"]))),128))])]),_:1},8,["title"])])]),_:1})}}};export{Te as default};
